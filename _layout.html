<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  $for(css)$
  <link rel="stylesheet" href="$css$" />
  $endfor$
  $for(header-includes)$
  $header-includes$
  $endfor$
</head>
<body class="quarto-light">
  
  <div class="page-container">
    <header>
      
      <nav>
        <a href="index.qmd">About</a>
        <a href="research.qmd">Research</a>
        <a href="teaching.qmd">Teaching</a>
        <a href="cv.qmd">CV</a>
      </nav>

    </header>
    
    <main>
      $body$
    </main>
  </div>
  
 <script>
  document.addEventListener('DOMContentLoaded', () => {
    const toggles = document.querySelectorAll('.abstract-toggle');
    toggles.forEach(toggle => {
      toggle.addEventListener('click', (event) => {
        event.preventDefault();
        
        // This new selector is more robust
        const paperEntry = toggle.closest('.paper-entry-new');
        const abstract = paperEntry.querySelector('.abstract-content');
        const arrow = toggle.querySelector('.arrow');
        
        if (abstract) {
          const isVisible = abstract.style.display === 'block';
          abstract.style.display = isVisible ? 'none' : 'block';
          if (isVisible) { arrow.classList.remove('expanded'); } 
          else { arrow.classList.add('expanded'); }
        }
      });
    });
  });
</script>
  
  $for(body-includes)$
  $body-includes$
  $endfor$
</body>
</html>


